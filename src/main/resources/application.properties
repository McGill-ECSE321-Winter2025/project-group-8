spring.application.name=gameorganizer
# spring.mvc.servlet.path=/api/v1

# Use H2 in-memory database for testing
# spring.datasource.url=jdbc:h2:mem:testdb
# spring.datasource.driverClassName=org.h2.Driver
# spring.datasource.username=sa
# spring.datasource.password=password
# spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# spring.h2.console.enabled=true

# PostgreSQL Configuration
spring.datasource.url=jdbc:postgresql://localhost:5433/game_organizer
spring.datasource.username=postgres
spring.datasource.password=skibidi
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Using create-drop for testing with H2 to recreate schema each time
# Using create-drop for testing with H2 to recreate schema each time
# spring.jpa.hibernate.ddl-auto=create-drop
# Using update for persistent databases like PostgreSQL
spring.jpa.hibernate.ddl-auto=update

# Hibernate properties
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Decide which port our backend will listen on.
# This is relevant for deliverable 2.
# Could also just set server.port = 8080 to always listen on port 8080.
# The advantage of using the following form is that you can change the port on
# startup, e.g., using .\gradlew bootRun --args='--port=9090'.
server.port = ${port:8080}

# JWT Configuration
# JWT secret should be provided via the JWT_SECRET environment variable for security.
# Increased from 1 hour (3600000ms) to 24 hours (86400000ms) to allow more time for testing
jwt.expiration=86400000

# Email Configuration
# For Gmail, you need an App Password if 2-Step Verification is enabled
# Generate one at: Google Account > Security > App passwords
spring.mail.host=smtp.gmail.com
# Using port 465 for SSL connection
spring.mail.port=465
spring.mail.username=pluh30918@gmail.com
# For secure deployment, set this via environment variable: MAIL_PASSWORD
spring.mail.password=${MAIL_PASSWORD:GameOrganizerLgFridge}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000
# Adding debug property to identify issues with email sending
spring.mail.properties.mail.debug=true
# Fix for Gmail SMTP authentication
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
# Additional settings to handle regular password authentication
spring.mail.properties.mail.smtp.ssl.enable=true
spring.mail.properties.mail.smtp.socketFactory.port=465
spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory

# Application URL for reset link (used in emails)
app.frontend.url=http://localhost:5173

# Set to true to activate development mode with additional endpoints
spring.profiles.active=dev

# OAuth2 Configuration
# Replace these values with your Google Cloud OAuth client ID and secret
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:your-client-id}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET:your-client-secret}
spring.security.oauth2.client.registration.google.scope=https://www.googleapis.com/auth/gmail.send

# Gmail API Configuration
gmail.user.email=${GMAIL_USER_EMAIL:pluh30918@gmail.com}
gmail.application.name=BoardGameConnect
use.gmail.api=false

# Redirect URI for OAuth2 flow
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}

# For development, you might need to set this if not automatically detected
server.forward-headers-strategy=native